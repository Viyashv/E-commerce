{% extends "base.html" %} {% block content %} {% include "nav.html" %}

<header class="bg-dark">
  <div id="carouselExampleIndicators" class="carousel slide mt-4">
    <div class="carousel-indicators" style="background-color: #00000045">
      {% for j in products %}
      <div class="dot" data-bs-target="#carouselExampleIndicators"></div>
      {% endfor %}
    </div>
    <div class="carousel-inner">
      {% for i in products %}
      <div class="mySlides carousel-item active">
        <img
          src="{{ i.image.url }}"
          class="d-block w-100"
          alt="..."
          style="height: 300px"
          loading="lazy"
        />
      </div>
      {% endfor %}
    </div>
  </div>
</header>
<!-- Section-->
<section class="py-5">
  <div class="container px-4 px-lg-5 mt-5">
    <div
      class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-lg-4 justify-content-center"
    >
      {% for i in products %}
      <div class="col mb-4">
        <div class="card h-100 border-dark">
          <!-- Product image -->
          <img
            class="card-img-top"
            src="{{ i.image.url }}"
            alt="..."
            loading="lazy"
          />

          <!-- Product details -->
          <div class="card-body d-flex flex-column justify-content-between p-3">
            <div class="text-center">
              <h5 class="fw-bolder">{{ i.name }}</h5>
              â‚¹ {{ i.price }}
            </div>
          </div>

          <!-- Product actions -->
          <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
            <div class="text-center w-100">
              <a
                class="btn btn-outline-dark mt-auto w-100"
                href="{% url 'product' i.id %}"
                >View options</a
              >
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
<!-- Footer-->

<footer class="py-5 bg-dark">
  <div class="container">
    <p class="m-0 text-center text-white">Copyright &copy; Your Website 2023</p>
  </div>
</footer>
<script>
  let slideIndex = 0;
  showSlides();

  function showSlides() {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    let dots = document.getElementsByClassName("dot");
    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
      // console.log(slideIndex)
    }
    slideIndex++;
    if (slideIndex > slides.length) {slideIndex = 1}
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }

    slides[slideIndex-1].style.display = "block";
    dots[slideIndex-1].className += " active";
    setTimeout(showSlides, 2000); // Change image every 2 seconds
  }

</script>

{% endblock %}
